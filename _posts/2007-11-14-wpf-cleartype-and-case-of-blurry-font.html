---
layout: post
title: WPF ClearType and the case of the blurry font
date: '2007-11-14T19:00:00.001Z'

tags: 
modified_time: '2007-11-14T20:27:20.968Z'
blogger_id: tag:blogger.com,1999:blog-4015568221071268916.post-4908620322148153122
blogger_orig_url: http://serialseb.blogspot.com/2007/11/wpf-cleartype-and-case-of-blurry-font.html
---

<p>While at TechEd I had lunch with IanG and the discussion around the blurry text in WPF came around. I mentionned that this was due to sub-pixel positioning: fonts are now positioned based on where the font designer intended to put it rather than at the pixel boundary. You gain in accuracy but you loose in sharpness. I also mentioned that fonts were rendered fatter on mac to account for this blurriness, and spent a couple of days wondering if I said somehting very stupid.</p>  <p>So I googled a bit and found where I got some of these ideas. Let me direct you to <a href="http://www.joelonsoftware.com/items/2007/06/12.html">Joel on Software</a> for the beginning of your cyber journey towards font understanding. I am lead to believe by all I've read that at small font sizes ClearType doesn't respect the font weight and spacing properly in GDI ClearType, while it's respected much better on the WPF ClearType, making it much closer to MacOS X sub-pixel rendering.</p>  <p>The problem, as Joel points out, is that users don't like change. They end up considering WPF text as blurry, when a mac user would find them absolutely appropriate. Should Microsoft backtrack on their ClearType WPF work? The problem would be that to respect the pixel grid, you need a pixel grid, and in WPF you don't have one. Ouch.</p>  <p>One thing I forgot to mention as well is that some of your blurry text comes from using Menus and other windows with transparency. This <strong>will</strong> disable ClearType altogether and switch to gray-scale rendering. When you wonder which mode each window is, make a screen capture and zoom, you'll see the red and green artifacts. And that includes <strong>every menu</strong> you use in your application (how's that for a hidden gem).</p>  <p>[Update]</p>  <p>While browsing wikipedia I stumbled on the following text.</p>  <blockquote>   <p>Increasingly, new approaches to screen rendering have reduced the importance of extensive TrueType hinting. Apple's rendering approach on <b>Mac</b> OS X ignores almost all the hints in a TrueType <b>font</b>, while Microsoft's <b>ClearType</b> ignores many hints, and works best with &quot;lightly hinted&quot; fonts.</p> </blockquote>  <p>One additional potential explanation of the difference between GDI and quartz sub-pixel rendering.</p>  <div class="wlWriterSmartContent" id="scid:0767317B-992E-4b12-91E0-4F059A8CECA8:2fd42602-8fd5-445e-adba-adb2289fc94a" style="padding-right: 0px; display: inline; padding-left: 0px; padding-bottom: 0px; margin: 0px; padding-top: 0px">Technorati Tags: <a href="http://technorati.com/tags/wpf" rel="tag">wpf</a>, <a href="http://technorati.com/tags/cleartype" rel="tag">cleartype</a></div>  